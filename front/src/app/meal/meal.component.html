<h1>Liste des repas</h1>

<div id="meal">

  <div class="panel-body">            
    <form>    
      <fieldset class="col-md-12">    	
        <legend>Recherche</legend>	
          <div class="row">
            <div class="col-3">
            <mat-form-field *ngIf="getMoments() != null">
              <mat-select placeholder="Select" value="">
                <mat-option value=""></mat-option>
                <mat-option *ngFor="let moment of getMoments()" value="{{moment.id}}">{{moment.name}}</mat-option>
              </mat-select>
            </mat-form-field>
            </div>
            <div class="col-9">
              <mat-form-field>
                <input matInput type="search" class="form-control" id="inputSearch" placeholder="Chercher un repas...">
              </mat-form-field>
          </div>
        </div>
      </fieldset>				
</form>		
    <div class="clearfix"></div>            
  </div> <!-- /panel-body -->
              
  <div class="row">
    <div class="col-lg-12">
        <p><a routerLink="/meal/add" title="Ajouter un repas"><mat-icon>add_box</mat-icon></a></p>
    </div>
  </div>

  <table id="example" class="table table-striped table-bordered" style="width:100%">
      <thead>
          <tr>
              <th>Date</th>
              <th>Nom du repas</th>
              <th>Moment</th>             
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let meal of getMeals()">
              <td>{{ meal.date | date:'yyyy-MM-dd' }}</td>
              <td><a href="/meal/detail/{{meal.id}}" title="{{meal.name}}">{{meal.name}}</a></td>
              <td>{{meal.moment?.name}}</td>
              <td><a routerLink="/meal/edit/{{meal.id}}"><mat-icon>edit</mat-icon></a></td>
          </tr>
      </tbody>
  </table>

</div> <!-- /meal -->

